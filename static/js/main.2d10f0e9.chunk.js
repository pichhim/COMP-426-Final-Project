(this["webpackJsonpfinal-project"]=this["webpackJsonpfinal-project"]||[]).push([[0],{103:function(e,t,a){},104:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(14),i=a.n(l),c=a(15),s=a(20),o=a(24),u=a(23),d=a(8),m=a(3),h=r.a.createContext(null),p=function(e){return function(t){return r.a.createElement(h.Consumer,null,(function(a){return r.a.createElement(e,Object.assign({},t,{firebase:a}))}))}},f=h,g=a(13),E=a.n(g),v=a(26),b=a(32),y=a.n(b),w=(a(70),a(72),a(106),{apiKey:"AIzaSyB8w5qHB57f3I5QRRqk88wzwILiPJ9Ebo8",authDomain:"comp-426-final-project-ee08c.firebaseapp.com",databaseURL:"https://comp-426-final-project-ee08c.firebaseio.com",projectId:"comp-426-final-project-ee08c",storageBucket:"comp-426-final-project-ee08c.appspot.com",messagingSenderId:"647077833347",appId:"1:647077833347:web:baba2b3b92ba4d59bf49b6",measurementId:"G-2G2VJREPKT"}),x=function e(){var t=this;Object(c.a)(this,e),this.doCreateUserWithEmailAndPassword=function(e,a){return t.auth.createUserWithEmailAndPassword(e,a)},this.doSignInWithEmailAndPassword=function(e,a){return t.auth.signInWithEmailAndPassword(e,a)},this.doSignOut=function(){t.writeUserData("status","Away"),t.auth.signOut()},this.getUser=function(e){return t.db.ref("users/".concat(e))},this.getUsers=function(){return t.db.ref("users")},this.getCurrentUser=function(){var e,t=this.auth.currentUser;return null!==t&&(e=t.uid),this.db.ref("/users/"+e).once("value").then((function(e){return e.val()||"Anonymous"}))},this.getUserObject=function(e){return this.db.ref("/users/"+e).once("value").then((function(e){return e.val()||"Anonymous"}))},this.writeUserData=function(e,t){var a={};return a["users/".concat(this.auth.currentUser.uid,"/").concat(e)]=t,this.db.ref().update(a)},this.pushUserData=function(){var e=Object(v.a)(E.a.mark((function e(t,a){var n,r,l;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="",e.next=3,this.db.ref("users").orderByChild("username").equalTo(a).once("value").then((function(e){null!==e.val()&&(n=Object.keys(e.val())[0])}));case 3:if(""!==n){e.next=5;break}return e.abrupt("return","Invalid user");case 5:return r=!1,e.next=8,this.db.ref("users/".concat(this.auth.currentUser.uid,"/friends")).orderByChild("uid").equalTo(n).once("value").then((function(e){null!==e.val()&&(r=!0)}));case 8:if(!r){e.next=10;break}return e.abrupt("return","Already added");case 10:return l=this.auth.currentUser.uid>n?"".concat(this.auth.currentUser.uid,"<=>").concat(n):"".concat(n,"<=>").concat(this.auth.currentUser.uid),this.db.ref("channels").child(l).set({thread:{HEAD:{type:"HEAD",author:"SYSTEM",content:"HEAD"}}}),this.db.ref("users/".concat(this.auth.currentUser.uid,"/").concat(t)).child(n).set({uid:n}),this.db.ref("users/".concat(n,"/").concat(t)).child(this.auth.currentUser.uid).set({uid:this.auth.currentUser.uid}),e.abrupt("return","Success");case 15:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}(),this.unfriend=function(){var e=Object(v.a)(E.a.mark((function e(t){var a,n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="",e.next=3,this.db.ref("users").orderByChild("username").equalTo(t).once("value").then((function(e){null!==e.val()&&(a=Object.keys(e.val())[0])}));case 3:if(""!==a){e.next=5;break}return e.abrupt("return","Invalid user");case 5:return n="",e.next=8,this.db.ref("users/".concat(this.auth.currentUser.uid,"/friends")).orderByChild("uid").equalTo(a).once("value").then((function(e){null!==e.val()&&(n=Object.keys(e.val())[0])}));case 8:if(""===n){e.next=16;break}return r=this.auth.currentUser.uid>a?"".concat(this.auth.currentUser.uid,"<=>").concat(a):"".concat(a,"<=>").concat(this.auth.currentUser.uid),this.db.ref("channels").child(r).remove(),this.db.ref("users/".concat(this.auth.currentUser.uid,"/friends/").concat(n)).remove(),this.db.ref("users/".concat(n,"/friends/").concat(this.auth.currentUser.uid)).remove(),e.abrupt("return","Success");case 16:return e.abrupt("return","Not in friend's list");case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),this.getAuth=function(e){return t.auth},this.getDB=function(e){return t.db},y.a.initializeApp(w),this.auth=y.a.auth(),this.db=y.a.database(),this.storage=y.a.storage()},S=a(55),N=(a(93),a(94),a(30)),C=a(9),k=a(16),j=(a(28),a(51),a(2)),O=a(17),M=a(56),I=a.n(M);function T(){var e=Object(k.a)(["\n        animation: 0.5s "," ease-out;\n    "]);return T=function(){return e},e}function B(){var e=Object(k.a)(["\n        from {\n            opacity: 0;\n        }\n        to {\n            opacity: 1;\n        }\n    "]);return B=function(){return e},e}var H=Object(O.b)(B()),D=O.a.div(T(),H),P={landingBackground:{backgroundColor:"#ECCDC2"},landingSpacing:{padding:"140px",width:"100vw",height:"100vh"},landingTitle:{fontSize:"90px"},landingDisplay:{textAlign:"center",zIndex:"2"},landingPadding:{padding:"15px"},signupButton:{marginright:"10px"},loginButton:{marginRight:"10px",paddingLeft:"25px",paddingRight:"25px"},buttonContainer:{paddingleft:"20px"},emptySpace:{height:"".concat(window.innerHeight/3,"px")},styleBlock:{display:"block"},devSection:{padding:"50px"},aboutSection:{padding:"120px"},descPadding:{paddingTop:"30px"},iconSize:{fontSize:"150px",color:"#ECCDC2"},landingPopupCard:{display:"none",marginRight:"10%",width:"400px",zIndex:"1"},landingPopupTitle:{textAlign:"center"},submitButton:{marginTop:"20px",textAlign:"center"},readme:{textAlign:"center",paddingTop:"".concat(window.innerHeight/6,"px")},xButton:{float:"right"},wave:{backgroundImage:"url(".concat(I.a,")"),backgroundSize:"cover",zIndex:"3",height:"116px"},error:{width:"fit-content"}};function L(){document.getElementById("loginPopup").style.display="none",document.getElementById("signupPopup").style.display="none",document.getElementById("landing").style.padding="140px"}var U={email:"",password:"",error:null},A=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onSubmit=function(e){var t=n.state,a=t.email,r=t.password;n.props.firebase.doSignInWithEmailAndPassword(a,r).then((function(e){n.setState(Object(C.a)({},U)),n.props.history.push("/")})).catch((function(e){n.setState({error:e})})),e.preventDefault()},n.onChange=function(e){n.setState(Object(N.a)({},e.target.name,e.target.value))},n.state=Object(C.a)({},U),n}return Object(s.a)(a,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.error,l=""===a||""===t;return r.a.createElement(D,{id:"loginPopup",style:P.landingPopupCard},r.a.createElement(j.Card,null,r.a.createElement(j.Card.Content,null,r.a.createElement("button",{className:"delete",style:P.xButton,onClick:L}),r.a.createElement(j.Heading,{style:P.landingPopupTitle},"login"),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("label",null,"email"),r.a.createElement("input",{className:"input",name:"email",value:t,onChange:this.onChange,type:"text",placeholder:"Email Address"}),r.a.createElement("label",null,"password"),r.a.createElement("input",{className:"input",name:"password",value:a,onChange:this.onChange,type:"password",placeholder:"Password"}),r.a.createElement(j.Level,null,r.a.createElement(j.Level.Item,null,r.a.createElement("button",{className:"button",disabled:l,type:"submit",style:P.submitButton},"login"))),r.a.createElement(j.Level,null,r.a.createElement(j.Level.Item,{style:P.error},n&&r.a.createElement("p",null,n.message)))))))}}]),a}(n.Component),W=Object(m.j)(p(A)),z={fullname:"",username:"",email:"",picture:"",description:"Hello! Welcome to your new profile. Update your profile description here.",status:"Online",friends:[],passwordOne:"",passwordTwo:"",error:null},F="FFAA7B",Y="C58E4C",R="ECCDC2",q="AFA4CE",V="C1D6EC",J=function(e){var t=e.split(" "),a=[t[0],t[1]],n=a[0],r=a[1],l=Math.floor(10*Math.random()),i="";switch(console.log(l),l){case 0:case 1:i+=F;break;case 2:case 3:i+=Y;break;case 4:case 5:i+=R;break;case 6:case 7:i+=q;break;case 8:case 9:i+=V}return"https://ui-avatars.com/api/?name="+n+"+"+r+"&background="+i+"&size=512&rounded=true"},X=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onSubmit=function(e){var t=n.state,a=t.fullname,r=t.username,l=t.email,i=t.passwordOne,c=(t.picture,t.description),s=t.status,o=t.friends;n.props.firebase.doCreateUserWithEmailAndPassword(l,i).then((function(e){return n.props.firebase.getUser(e.user.uid).set({fullname:a,username:r,email:l,picture:J(a),description:c,status:s,friends:o})})).then((function(e){n.setState(Object(C.a)({},z)),n.props.history.push("/")})).catch((function(e){n.setState({error:e})})),e.preventDefault()},n.onChange=function(e){n.setState(Object(N.a)({},e.target.name,e.target.value))},n.state=Object(C.a)({},z),n}return Object(s.a)(a,[{key:"render",value:function(){var e=this.state,t=e.fullname,a=e.username,n=e.email,l=e.passwordOne,i=e.passwordTwo,c=e.error,s=l!==i||""===l||""===n||""===a||""===t;return r.a.createElement(D,{id:"signupPopup",style:P.landingPopupCard},r.a.createElement(j.Card,null,r.a.createElement(j.Card.Content,null,r.a.createElement("button",{className:"delete",style:P.xButton,onClick:L}),r.a.createElement(j.Heading,{style:P.landingPopupTitle},"sign up"),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("label",null,"full name"),r.a.createElement("input",{className:"input",name:"fullname",value:t,onChange:this.onChange,type:"text",placeholder:"Full Name"}),r.a.createElement("label",null,"username"),r.a.createElement("input",{className:"input",name:"username",value:a,onChange:this.onChange,type:"text",placeholder:"Username"}),r.a.createElement("label",null,"email"),r.a.createElement("input",{className:"input",name:"email",value:n,onChange:this.onChange,type:"text",placeholder:"Email Address"}),r.a.createElement("label",null,"password"),r.a.createElement("input",{className:"input",name:"passwordOne",value:l,onChange:this.onChange,type:"password",placeholder:"Password"}),r.a.createElement("label",null,"confirm password"),r.a.createElement("input",{className:"input",name:"passwordTwo",value:i,onChange:this.onChange,type:"password",placeholder:"Confirm Password"}),r.a.createElement(j.Level,null,r.a.createElement(j.Level.Item,null,r.a.createElement("button",{className:"button",disabled:s,type:"submit",style:P.submitButton},"submit"),c&&r.a.createElement("p",null,c.message)))))))}}]),a}(n.Component),_=Object(m.j)(p(X));var G=function(){var e={backgroundColor:"white",width:"100vw",position:"inherit",height:"550px"},t=function(e){return{width:"".concat(e,"px"),height:"".concat(e,"px"),position:"relative",objectFit:"cover",overflow:"hidden",borderRadius:"50%",border:"0px solid"}};return r.a.createElement("div",null,r.a.createElement("div",{style:P.wave}),r.a.createElement("div",{id:"box"}),r.a.createElement(j.Section,{id:"landing",style:P.landingSpacing},r.a.createElement(j.Level,null,r.a.createElement(j.Level.Item,null,r.a.createElement(j.Container,{style:P.landingDisplay},r.a.createElement(j.Heading,{style:P.landingTitle},"chat-tea"),r.a.createElement(j.Heading,{subtitle:!0,size:4,style:P.landingPadding},"a messaging app"),r.a.createElement(j.Level.Item,{style:P.buttonContainer},r.a.createElement(j.Button,{onClick:function(){"none"!==document.getElementById("signupPopup").style.display&&(document.getElementById("signupPopup").style.display="none"),document.getElementById("loginPopup").style.display="block",document.getElementById("landing").style.padding="100px"},style:P.loginButton},"login"),r.a.createElement(j.Button,{onClick:function(){"none"!==document.getElementById("loginPopup").style.display&&(document.getElementById("loginPopup").style.display="none"),document.getElementById("signupPopup").style.display="block",document.getElementById("landing").style.padding="10px"},style:P.signupButton},"sign up"))),r.a.createElement(_,null),r.a.createElement(W,null)))),r.a.createElement(j.Section,{style:e},r.a.createElement(j.Level,null,r.a.createElement(j.Level.Item,null,r.a.createElement(j.Container,{style:P.landingDisplay},r.a.createElement(j.Heading,{style:P.landingTitle},"about"),r.a.createElement(j.Level,{style:P.aboutSection},r.a.createElement(j.Level.Item,{style:P.styleBlock},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{style:P.iconSize,className:"fa fa-comments","aria-hidden":"true"})),r.a.createElement(j.Heading,{style:P.descPadding},"chat")),r.a.createElement(j.Level.Item,{style:P.styleBlock},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{style:P.iconSize,className:"fa fa-users","aria-hidden":"true"})),r.a.createElement(j.Heading,{style:P.descPadding},"friend")),r.a.createElement(j.Level.Item,{style:P.styleBlock},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{style:P.iconSize,className:"fa fa-gamepad","aria-hidden":"true"})),r.a.createElement(j.Heading,{style:P.descPadding},"game")),r.a.createElement(j.Level.Item,{style:P.styleBlock},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{style:P.iconSize,className:"fa fa-repeat","aria-hidden":"true"})),r.a.createElement(j.Heading,{style:P.descPadding},"repeat"))))))),r.a.createElement(j.Section,{style:P.emptySpace}),r.a.createElement(j.Section,{style:e},r.a.createElement(j.Level,null,r.a.createElement(j.Level.Item,null,r.a.createElement(j.Container,{style:P.landingDisplay},r.a.createElement(j.Heading,{style:P.landingTitle},"developers"),r.a.createElement(j.Level,{style:P.devSection},r.a.createElement(j.Level.Item,{style:P.styleBlock},r.a.createElement("img",{alt:"",style:t(250),src:"https://vignette.wikia.nocookie.net/naruto/images/b/bc/Rin_Nohara.png/revision/latest?cb=20150805145941"}),r.a.createElement(j.Heading,{style:P.descPadding},"pich")),r.a.createElement(j.Level.Item,{style:P.styleBlock},r.a.createElement("img",{alt:"",style:t(250),src:"https://vignette.wikia.nocookie.net/naruto/images/0/09/Naruto_newshot.png/revision/latest/scale-to-width-down/340?cb=20170621101134"}),r.a.createElement(j.Heading,{style:P.descPadding},"eden")),r.a.createElement(j.Level.Item,{style:P.styleBlock},r.a.createElement("img",{alt:"",style:t(250),src:"https://vignette.wikia.nocookie.net/naruto/images/9/97/Hinata.png/revision/latest?cb=20141010104729"}),r.a.createElement(j.Heading,{style:P.descPadding},"jessica")),r.a.createElement(j.Level.Item,{style:P.styleBlock},r.a.createElement("img",{alt:"",style:t(250),src:"https://vignette.wikia.nocookie.net/naruto/images/9/9a/Shikamaru_Nara.png/revision/latest?cb=20180701024126"}),r.a.createElement(j.Heading,{style:P.descPadding},"lucas"))))))),r.a.createElement(j.Section,{style:P.emptySpace},r.a.createElement("div",{style:P.readme},r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/pichhim/COMP-426-Final-Project#comp-426-final-project"},r.a.createElement(j.Button,{size:"large"},"README.md")))))},Z=a(6),K=[{color:"sky",hex:"6EE4F4",link:"https://i.ibb.co/sCyJ3Zw/426sky.jpg",status:"Idle"},{color:"green",hex:"6EF473",link:"https://i.ibb.co/5xgr4Vz/426green.jpg",status:"Online"},{color:"coral",hex:"F46E6E",link:"https://i.ibb.co/MhXkZDj/426coral.jpg",status:"Busy"},{color:"yellow",hex:"F4EF6E",link:"https://i.ibb.co/PWV2BZW/426yellow.jpg",status:"Away"}],Q=a(62),$=a(21),ee=a(22),te=(a(99),a(18));function ae(){var e=Object(k.a)(["\n    width: 400px;\n    font-size: 15px;\n    border: none;\n    :hover {\n        background-color: #ECCDC2;\n    };\n"]);return ae=function(){return e},e}var ne={autocomplete:{margin:"0px",padding:"10px"},absolute:{position:"absolute",zIndex:"100"}},re=O.a.button(ae());var le=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={filteredSuggestions:[],showSuggestions:!1,userInput:""},n}return Object(s.a)(a,[{key:"render",value:function(){var e,t=this,a=this.onChange,n=void 0===a?function(e){var a=t.props.suggestions,n=e.currentTarget.value;t.setState({showSuggestions:!0,userInput:e.currentTarget.value});var r=function(e,t,a){for(var n=Date.now(),r=n;r-n<e;)r=Date.now();return t.filter((function(e){return e.toLowerCase().indexOf(a.toLowerCase())>-1}))}(50,a,n);t.setState({filteredSuggestions:r,showSuggestions:!0,userInput:e.currentTarget.value})}:a,l=this.onClick,i=void 0===l?function(e){t.setState({filteredSuggestions:[],showSuggestions:!1,userInput:e.currentTarget.innerText})}:l,c=this.state,s=c.filteredSuggestions,o=c.showSuggestions,u=c.userInput;return o&&u&&(e=s.length?r.a.createElement("div",{className:"suggestions",style:ne.absolute},s.map((function(e,t){return r.a.createElement(re,{className:"box",style:ne.autocomplete,key:t,onClick:i},e)}))):r.a.createElement("div",{className:"no-suggestions",style:ne.absolute},r.a.createElement("em",null,"No suggestions!"))),r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{className:"input is-fullwidth",type:"text",id:"friendInput",placeholder:"Enter username here",onChange:n,value:u}),e)}}]),a}(n.Component);le.defaultProperty={suggestions:[]};var ie=le,ce={overallContainerStyle:{},inputStyle:{margin:"20px"},loadStyle:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},imageStyle:function(e){return{width:"".concat(e,"px"),height:"".concat(e,"px"),position:"relative",objectFit:"cover",overflow:"hidden",borderRadius:"50%",border:"0px solid"}},statusStyle:function(e){var t=K.filter((function(t){return t.status.toLowerCase()===e.toLowerCase()}))[0].hex;return{color:"#".concat(t)}},title:{margin:"0px"},button:{margin:"10px"}};function se(e,t){function a(e,t){"enter"===t?(e.currentTarget.style.border="3px solid",e.currentTarget.style.cursor="pointer"):(e.currentTarget.style.border="",e.currentTarget.style.cursor="")}return r.a.createElement("div",{className:"columns is-mobile is-multiline is-centered"},K.map((function(t){return r.a.createElement("div",{className:"column is-narrow",key:t.color},r.a.createElement("img",{"data-tip":t.status.toLowerCase(),"data-place":"top",onMouseEnter:function(e){return a(e,"enter")},onMouseLeave:function(e){return a(e,"leave")},onClick:function(t){return function(t){e.firebase.writeUserData("status",t.currentTarget.alt)}(t)},style:ce.imageStyle(55),src:t.link,alt:t.status.toLowerCase()}),r.a.createElement(Q.a,null))})))}function oe(e,t,a,n){return e?function(e,t,a){return r.a.createElement("div",{className:"card",id:"profile-card",style:{height:"calc(100vh - 200px)"}},r.a.createElement("div",{className:"card-image  has-text-centered",style:{display:"flex",justifyContent:"center"}},r.a.createElement("figure",{className:"image is-inline-block",style:{margin:"1rem"}},r.a.createElement("img",{style:ce.imageStyle(200),src:"".concat(t.picture),alt:"Profile: ".concat(t.fullname)}))),r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"has-text-centered",style:ce.inputStyle},r.a.createElement("textarea",{className:"input",type:"text",id:"fullname",placeholder:"Full name",onChange:function(e){return t.fullname=e.target.value},defaultValue:t.fullname}),r.a.createElement("textarea",{className:"input",type:"text",id:"username",placeholder:"Username",onChange:function(e){return t.username=e.target.value},defaultValue:t.username})),r.a.createElement("div",{style:ce.inputStyle},r.a.createElement("textarea",{className:"textarea",type:"text",id:"description",placeholder:"Description",onChange:function(e){return t.description=e.target.value},defaultValue:t.description})),r.a.createElement("div",{className:"has-text-centered"},r.a.createElement("button",{style:ce.button,className:"button is-dark is-centered",onClick:function(){return a.firebase.writeUserData("fullname",t.fullname),a.firebase.writeUserData("username",t.username),a.firebase.writeUserData("description",t.description),a.firebase.writeUserData("picture",J(t.fullname)),void e(!1)}},"save"))))}(t,a,n):r.a.createElement("div",{className:"card",id:"profile-card",style:{height:"calc(100vh - 200px)"}},r.a.createElement("div",{className:"card-image  has-text-centered",style:{display:"flex",justifyContent:"center"}},r.a.createElement("figure",{className:"image is-inline-block",style:{margin:"1rem"}},r.a.createElement("img",{style:ce.imageStyle(200),src:"".concat(a.picture),alt:"Profile: ".concat(a.fullname)}))),r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"has-text-centered"},r.a.createElement("strong",null,a.fullname.toLowerCase()),r.a.createElement("br",null),r.a.createElement("em",null,a.username.toLowerCase()),r.a.createElement("div",null,r.a.createElement("p",{style:ce.statusStyle(a.status)},a.status.toLowerCase()))),r.a.createElement("br",null),r.a.createElement("p",{className:"has-text-centered"}," ",a.description),r.a.createElement("br",null),se(n),r.a.createElement("br",null),r.a.createElement("div",{className:"has-text-centered"},r.a.createElement("button",{style:ce.button,className:"button is-dark is-centered",onClick:function(){return t(!0)}},"edit"))))}var ue=p((function(e){var t=Object(n.useState)(!1),a=Object(Z.a)(t,2),l=a[0],i=a[1],c=Object(n.useState)(null),s=Object(Z.a)(c,2),o=s[0],u=s[1],d=Object(n.useState)([]),m=Object(Z.a)(d,2),h=m[0],p=m[1],f=Object(n.useState)([]),g=Object(Z.a)(f,2),b=g[0],y=g[1],w=function(){var t=e.firebase.getDB(),a=e.user.uid;try{var n=t.ref("/users").on("value",(function(e){if(null==e.val())return function(){return t.ref("/users").off("value",n)};var r=e.val()[a];u(r);var l=r.friends,i=[],c=[];for(var s in e.val())c.push(Object(C.a)(Object(C.a)({},e.val()[s]),{},{key:s})),l&&s in l&&i.push(Object(C.a)(Object(C.a)({},e.val()[s]),{},{key:s}));y(c),p(i)}));return function(){return t.ref("/users").off("value",n)}}catch(r){alert("error reading friend info")}};function x(){return(x=Object(v.a)(E.a.mark((function t(){var a,n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=document.getElementById("friendInput").value,n="",""===a){t.next=6;break}return t.next=5,e.firebase.pushUserData("friends",a);case 5:n=t.sent;case 6:t.t0=n,t.next="invalid user"===t.t0?9:"already added"===t.t0?11:"success"===t.t0?13:16;break;case 9:return te.NotificationManager.warning("","username ".concat(a.toLowerCase()," is an invalid user.")),t.abrupt("break",17);case 11:return te.NotificationManager.warning("","you have already added ".concat(a.toLowerCase()," as a friend.")),t.abrupt("break",17);case 13:return w(),te.NotificationManager.success("","you have added ".concat(a.toLowerCase()," as a friend.")),t.abrupt("break",17);case 16:return t.abrupt("break",17);case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function S(){return(S=Object(v.a)(E.a.mark((function t(){var a,n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=document.getElementById("friendInput").value,n="",""===a){t.next=6;break}return t.next=5,e.firebase.unfriend(a);case 5:n=t.sent;case 6:t.t0=n,t.next="Invalid user"===t.t0?9:"not in friend's list"===t.t0?11:"success"===t.t0?13:16;break;case 9:return te.NotificationManager.warning("","username ".concat(a.toLowerCase()," is an invalid user.")),t.abrupt("break",17);case 11:return te.NotificationManager.warning("","you do not have ".concat(a.toLowerCase()," added as a friend.")),t.abrupt("break",17);case 13:return w(),te.NotificationManager.error("","you have unfriended ".concat(a.toLowerCase(),".")),t.abrupt("break",17);case 16:return t.abrupt("break",17);case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.useEffect)(w,[]),null!==o?r.a.createElement("section",null,r.a.createElement(te.NotificationContainer,null),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"columns is-vcentered is-centered",style:{height:"calc(100vh - 90px)"}},r.a.createElement("div",{className:"column is-5 is-narrow",style:ce.overallContainerStyle},oe(l,i,o,e)),r.a.createElement("div",{className:"column is-5 is-narrow"},r.a.createElement("div",{className:"card has-text-centered",id:"friends-list",style:{height:"calc(100vh - 200px)"}},r.a.createElement("div",{className:"card-content"},r.a.createElement("figure",{style:{height:"100px",zIndex:"100"}},r.a.createElement("u",{className:"title"},"Friends"),r.a.createElement("br",null),"\xa0",r.a.createElement("div",null,r.a.createElement("div",{className:"field has-addons"},r.a.createElement("div",{className:"control is-expanded",style:{position:"relative"}},r.a.createElement(ie,{suggestions:function(e){return e.map((function(e){return e.username}))}(b)})),"\xa0",r.a.createElement("div",{className:"buttons is-right"},r.a.createElement("button",{className:"button","data-tip":"Add Friend","data-place":"top",onClick:function(){return function(){return x.apply(this,arguments)}()}},r.a.createElement("span",{className:"icon is-small"},r.a.createElement($.a,{icon:ee.c}))),r.a.createElement("button",{className:"button","data-tip":"Unfriend","data-place":"top",onClick:function(){return function(){return S.apply(this,arguments)}()}},r.a.createElement("span",{className:"icon is-small"},r.a.createElement($.a,{icon:ee.a}))))))),r.a.createElement("br",null),"\xa0",r.a.createElement("div",{className:"tile"},function(e){return e===[]?"":r.a.createElement("div",{className:"tile is-child",style:{overflow:"auto",height:"calc(100vh - 400px)"}},e.map((function(e){return r.a.createElement("div",{className:"container",style:{width:"100%",marginBottom:"1rem"}},r.a.createElement("article",{className:"media custom-is-hoverable",key:e.username,onMouseLeave:function(e){return e.currentTarget.style.boxShadow=""}},r.a.createElement("div",{className:"media-left"},r.a.createElement("figure",{className:"image"},r.a.createElement("img",{style:ce.imageStyle(100),src:"".concat(e.picture),alt:e.fullname+" profile"}))),r.a.createElement("div",{className:"media-content"},r.a.createElement("div",{className:"content"},r.a.createElement("div",null,r.a.createElement("strong",null,e.fullname),r.a.createElement("br",null),r.a.createElement("em",null,e.username),r.a.createElement("p",{style:ce.statusStyle(e.status)},e.status))))))})))}(h)))))))):r.a.createElement("p",null)}));var de=function(e){var t={width:"".concat(e.width-4,"px"),height:"".concat(e.height-4,"px"),background:"".concat(e.borderColor),borderRadius:"0.5rem",margin:"12px 0px 12px 0px",padding:"".concat(2,"px"),overflow:"hidden"},a={width:"100%",height:"calc(100% / ".concat(e.rows,")"),display:"flex",flexDirection:"row"},n={width:"calc(100% / ".concat(e.columns,")"),height:"calc(100% - ".concat(4,")"),margin:"".concat(2,"px"),background:"".concat(e.boardColor),border:"solid ".concat(e.borderColor),borderRadius:"0.5rem",transition:"1s",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"},l={color:"black",fontSize:"".concat(Math.floor(e.height/(e.rows+1)),"px")};return r.a.createElement("div",{style:t},e.board.map((function(t,i){return r.a.createElement("div",{style:a,key:"".concat(i)},t.map((function(t,a){return r.a.createElement("button",{style:n,key:"".concat(i).concat(a),onClick:e.onClick?function(){return e.onClick({x:a,y:i})}:null},"SYSTEM"!==String(t)?r.a.createElement("span",{style:l},String(t)===String(e.started)?"X":"O"):null)})))})))};var me=function(e){function t(t){for(var a=String(e.uid),n=0;n<3;n++)if(t[n][0]===a&&t[n][1]===a&&t[n][2]===a)return a;for(var r=0;r<3;r++)if(t[0][r]===a&&t[1][r]===a&&t[2][r]===a)return a;if(t[0][0]===a&&t[1][1]===a&&t[2][2]===a)return a;if(t[0][2]===a&&t[1][1]===a&&t[2][0]===a)return a;for(var l=0;l<3;l++)for(var i=0;i<3;i++)if("SYSTEM"===t[l][i])return"NONE";return"SYSTEM"}return r.a.createElement(de,{width:400,height:400,rows:3,columns:3,boardColor:"#44AA44",borderColor:"#228822",highlightColor:"#FF4444",board:e.data.board,started:e.data.started,onClick:function(a){var n=a.x,r=a.y;if(null!=e.sendState&&null!=e.uid&&null!=e.friendID){var l=e.data.board.map((function(e){return e.slice()}));if("SYSTEM"===l[r][n]){l[r][n]="".concat(e.uid),console.log(t(l));var i={date:(new Date).toISOString(),author:e.uid,type:"TICTACTOE",content:{started:e.data.started,board:l,justPlayed:e.uid,nextPlayer:e.friendID,winner:t(l)}};e.sendState(i)}}}})};var he=p((function(e){var t=e.friend,a=e.user.uid,l=t.key,i=Object(n.useState)([]),c=Object(Z.a)(i,2),s=c[0],o=c[1],u=Object(n.useState)([]),d=Object(Z.a)(u,2),h=d[0],p=d[1],f=Object(n.useState)(!1),g=Object(Z.a)(f,2),E=g[0],v=g[1],b=Object(n.useState)(!1),y=Object(Z.a)(b,2),w=y[0],x=y[1],S=Object(n.useState)(null),N=Object(Z.a)(S,2),C=N[0],k=N[1],j=Object(n.useState)(null),O=Object(Z.a)(j,2),M=O[0],I=O[1];function T(t){t.preventDefault();var n=e.firebase.getDB(),r=a>l?"".concat(a,"<=>").concat(l):"".concat(l,"<=>").concat(a);if(h.length>0)try{n.ref("/channels/".concat(r,"/thread")).push({date:(new Date).toISOString(),author:a,type:"TEXT",content:h}),p("")}catch(i){alert("Error reading user channels")}}function B(t){var n=e.firebase.getDB(),r=a>l?"".concat(a,"<=>").concat(l):"".concat(l,"<=>").concat(a),i=t.content.winner;try{n.ref("/channels/".concat(r,"/thread")).push(t),x(!1)}catch(c){alert(c)}String(a)===String(i)?H("Congratuations, ".concat(e.user.username," won!")):"SYSTEM"===String(i)&&H("Nobody Won! HAHAHAHAHA")}function H(t){var n=e.firebase.getDB(),r=a>l?"".concat(a,"<=>").concat(l):"".concat(l,"<=>").concat(a),i={date:(new Date).toISOString(),author:"SYSTEM",type:"SYSTEM",content:t};try{n.ref("/channels/".concat(r,"/thread")).push(i)}catch(c){alert(c)}}function D(e){var t=e.entry.content;return r.a.createElement("div",{className:"messages-container"},r.a.createElement("div",{className:"own-messages"},function(){switch(e.entry.type){case"TICTACTOE":return r.a.createElement(me,{data:t,sendState:e.oldState?null:B,uid:a,friendID:l});default:return t}}()))}function P(e){var t=e.entry.content;return r.a.createElement("div",{className:"messages-container"},function(){switch(e.entry.type){case"TICTACTOE":return r.a.createElement("div",{className:"friend-messages"},r.a.createElement(me,{data:t}));case"SYSTEM":return r.a.createElement("div",{className:"system-messages"},t);default:return r.a.createElement("div",{className:"friend-messages"},t)}}())}return Object(n.useEffect)((function(){var t=e.firebase.getDB(),n=a>l?"".concat(a,"<=>").concat(l):"".concat(l,"<=>").concat(a);try{var r=t.ref("/channels/".concat(n)).on("value",(function(e){if(null==e.val())return I(!0),function(){return t.ref("/channels/".concat(n)).off("value",r)};var l=[];for(var i in e.val().thread){var c=e.val().thread[i];"HEAD"!==c.type&&l.push(c)}var s=(l=l.sort((function(e,t){return new Date(t.date)-new Date(e.date)}))).find((function(e){return"TEXT"!==e.type&&"SYSTEM"!==e.type}));if(s)if(k(s),"NONE"===s.content.winner){var u=String(s.content.nextPlayer)===String(a);v(u),x(u)}else v(!1),x(!1);o(l)}));return function(){return t.ref("/channels/".concat(n)).off("value",r)}}catch(i){alert("Error reading user channels")}}),[]),r.a.createElement("div",{className:"tile is-vertical is-parent is-12 messages-window",id:"open-chat"},r.a.createElement("div",{className:"tile is-vertical is-child"},r.a.createElement("article",{className:"tile is-child media"},r.a.createElement("figure",{className:"media is-left"},r.a.createElement("h2",{className:"subtitle"},r.a.createElement("b",null,t.username))))),r.a.createElement("div",{style:{maxHeight:"100%",overflow:"auto",display:"flex",flexDirection:"column-reverse"}},E&&w?r.a.createElement(D,{entry:C}):null,s.map((function(e){return e.author===a?r.a.createElement(D,{entry:e,key:e.date,oldState:!0}):r.a.createElement(P,{entry:e,key:e.date,oldState:!0})}))),r.a.createElement("div",{className:"tile is-vertical is-child is-12"},r.a.createElement("form",{className:"field has-addons",onSubmit:T},r.a.createElement("div",{className:"control",style:{width:"100%"}},r.a.createElement("input",{className:"input is-rounded",type:"text",placeholder:"Type a message...",value:h,onChange:function(e){p(e.target.value)}})),r.a.createElement("div",{className:"control"},E&&C&&"NONE"===C.content.winner?r.a.createElement("span",{className:"button is-info",onClick:function(e){e.preventDefault(),x((function(e){return!e}))}},w?"Close Board":"Show Board"):r.a.createElement("span",{className:"button is-info",onClick:function(t){if(t.preventDefault(),null==C||"NONE"!==C.content.winner){H("".concat(e.user.username," is starting a new game of tic-tac-toe..."));var n={date:(new Date).toISOString(),author:a,type:"TICTACTOE",content:{board:[["SYSTEM","SYSTEM","SYSTEM"],["SYSTEM","SYSTEM","SYSTEM"],["SYSTEM","SYSTEM","SYSTEM"]],justPlayed:"SYSTEM",nextPlayer:a,started:a,winner:"NONE"}};k(n),x(!0),v(!0)}}},C&&"NONE"===C.content.winner?"Waiting...":"Start Game")),r.a.createElement("div",{className:"control"},r.a.createElement("span",{className:"button is-info is-rounded",onClick:T},r.a.createElement($.a,{icon:ee.b}))))),M?r.a.createElement(m.a,{to:"/messages"}):null)})),pe=(a(103),{statusStyle:function(e){var t=K.filter((function(t){return t.status.toLowerCase()===e.toLowerCase()}))[0].hex;return{color:"#".concat(t)}},columnStyle:{height:"calc(100vh - 100px)"},windowStyle:{height:"calc(100vh - 200px)",display:"flex",justifyContent:"center",alignItems:"center"}});function fe(e){var t=e.chatList,a=e.user,l=Object(n.useState)(""),i=Object(Z.a)(l,2),c=i[0],s=i[1];return r.a.createElement("div",{className:"card"}," ",r.a.createElement("div",{className:"card-content",style:{height:"calc(100vh - 200px)"}},r.a.createElement("article",{className:"tile is-parent media"},r.a.createElement("figure",{className:"media-left"},r.a.createElement("img",{className:"image is-64x64",src:a.picture,style:{borderRadius:"50%"}})),r.a.createElement("h1",{className:"title"},r.a.createElement("b",null,"chats"))),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control has-icons-left"},r.a.createElement("input",{className:"input is-rounded",type:"text",placeholder:"Search chats",value:c,onChange:function(e){return s(e.target.value)}}),r.a.createElement("span",{className:"icon is-left"},r.a.createElement($.a,{icon:ee.d})))),r.a.createElement("div",{className:"tile is-parent is-vertical",style:{height:"calc(100% - 160px)",overflow:"auto"}},t.filter((function(e){return e.username.includes(c)||e.fullname.includes(c)})).map((function(t){return r.a.createElement("div",{className:"tile is-child is-vertical custom-is-hoverable messages-option",key:t.key,onClick:function(){return e.chatSelect(t.key)}},r.a.createElement(d.b,{to:"/messages/".concat(t.key)},r.a.createElement("article",{className:"media custom-is-clickable"},r.a.createElement("figure",{className:"media-left"},r.a.createElement("img",{className:"image is-64x64",src:t.picture,alt:"".concat(t.fullname,"'s profile picture"),style:{borderRadius:"50%"}})),r.a.createElement("div",{className:"media-content"},r.a.createElement("div",{className:"content"},r.a.createElement("h6",null,t.fullname," - ",r.a.createElement("i",null,t.username)),r.a.createElement("p",{style:pe.statusStyle(t.status)},t.status))))))})))))}var ge=p((function(e){var t=Object(n.useState)(""),a=Object(Z.a)(t,2),l=a[0],i=a[1],c=Object(n.useState)([]),s=Object(Z.a)(c,2),o=s[0],u=s[1],d=Object(n.useState)(null),h=Object(Z.a)(d,2),p=h[0],f=h[1],g=Object(m.i)(),E=Object(m.h)();Object(m.g)(),Object(n.useEffect)((function(){var t=e.firebase.getDB(),a=e.user.uid;try{var n=t.ref("/users").on("value",(function(e){if(null==e.val())return function(){return t.ref("/users").off("value",n)};var r=e.val()[a];f(Object(C.a)(Object(C.a)({},r),{},{uid:a}));var l=r.friends,i=[];for(var c in e.val())l&&c in l&&i.push(Object(C.a)(Object(C.a)({},e.val()[c]),{},{key:c}));u(i)}));return function(){return t.ref("/users").off("value",n)}}catch(r){alert("error reading user friends")}}),[]),Object(n.useEffect)((function(){i(E.pathname.replace(g.path,""))}));var v=o.filter((function(e){return l==="/".concat(e.key)}));return r.a.createElement("div",{className:"columns is-centered is-vcentered",style:pe.columnStyle},r.a.createElement("div",{className:"column is-4 is-narrow container"},p?r.a.createElement(fe,{user:p,chatList:o,chatSelect:function(e){i("/".concat(e))}}):null),r.a.createElement("div",{className:"column is-7 is-narrow container"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content has-text-centered",style:pe.windowStyle},v.length>0?v.map((function(e){return r.a.createElement(he,{key:e.key,user:p,friend:e})})):r.a.createElement("h3",null,"Please Select a Friend to Chat With")))))})),Ee=p((function(e){var t=e.firebase;return r.a.createElement("button",{className:"button is-small",type:"button",onClick:t.doSignOut},"sign out")})),ve=a(42),be=a.n(ve),ye={profilePic:{padding:"15px",paddingBottom:"0px"},profLinks:{maxHeight:"100%"},logo:{padding:"8px"}},we=p((function(e){var t=Object(n.useState)(null),a=Object(Z.a)(t,2),l=a[0],i=a[1];Object(n.useEffect)((function(){var t=e.firebase.getDB(),a=e.user.uid;try{var n=t.ref("/users/".concat(a)).on("value",(function(e){if(null==e.val())return function(){return t.ref("/users/".concat(a)).off("value",n)};i(e.val())}));return function(){return t.ref("/users/".concat(a)).off("value",n)}}catch(r){alert("Error reading user channels")}}),[]);var c;return r.a.createElement("nav",{className:"navbar",role:"navigation","aria-label":"main navigation"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement(d.b,{to:"/"},r.a.createElement("img",{style:ye.logo,alt:"logo",src:be.a,width:"80",height:"80"}))),r.a.createElement("div",{id:"navbarBasicExample",className:"navbar-menu"},r.a.createElement("div",{className:"navbar-start"},r.a.createElement(d.b,{to:"/",className:"navbar-item"},r.a.createElement("h1",{className:"subtitle is-4"},"home")),r.a.createElement(d.b,{to:"/messages",className:"navbar-item"},r.a.createElement("h1",{className:"subtitle is-4"},"messages")),r.a.createElement(d.b,{to:"/profile",className:"navbar-item"},r.a.createElement("h1",{className:"subtitle is-4"},"profile"))),r.a.createElement("div",{className:"navbar-end"},r.a.createElement("div",{className:"navbar-item"},l?r.a.createElement("h1",{className:"subtitle is-5"},"welcome, ",l.fullname.toLowerCase().split(" ")[0],"!"):null),r.a.createElement("div",{className:"navbar-item has-dropdown is-hoverable"},r.a.createElement(d.b,{to:"/profile",className:"navbar-link is-arrowless"},r.a.createElement("div",{style:ye.profilePic},l?r.a.createElement("img",{alt:"",style:(c=45,{width:"".concat(c,"px"),height:"".concat(c,"px"),position:"relative",objectFit:"cover",overflow:"hidden",borderRadius:"50%",border:"0px solid",zIndex:"2",maxHeight:"100%"}),src:l.picture}):null)),r.a.createElement("div",{className:"navbar-dropdown"},r.a.createElement(d.b,{to:"/profile",className:"navbar-link is-arrowless"},"profile"),r.a.createElement(d.b,{className:"navbar-item",to:"/"},r.a.createElement(Ee,null)))))))})),xe=function(){return r.a.createElement("nav",{className:"navbar",role:"navigation","aria-label":"main navigation"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement(d.b,{to:"/"},r.a.createElement("img",{style:ye.logo,alt:"",src:be.a,width:"80",height:"80"}))))},Se=function(e){var t=e.authUser;return r.a.createElement("div",null,t?r.a.createElement(we,{user:t}):r.a.createElement(xe,null))},Ne=a(60),Ce=a(61),ke=a.n(Ce);function je(){var e=Object(k.a)(["\n        height: 50px;\n        width: 50px;\n        background-color: #000;\n        border-radius: 50%;\n        display: inline-block;\n        position: fixed;\n        zIndex: -2;\n        animation: "," 200s linear infinite;\n    "]);return je=function(){return e},e}function Oe(){var e=Object(k.a)(["\n        0%, 100% {\n            right: 0px;\n            left: ","px;\n            top: ","px;\n            \n        }\n        10% {\n            right: ","px;\n            left: ","px; \n            top: ","px; \n        }\n        20% {\n            right: ","px;\n            left: ","px;\n            top: ","px;     \n           }\n        30% {\n            right: ","px;\n            left: ","px;\n            top: ","px;    \n            }\n        40% {\n            right: ","px;\n            left: ","px;\n            top: ","px;      \n          }\n        50% {\n            right: ","px;\n            left: ","px;\n            top: ","px;     \n           }\n        60% {\n            right: ","px;\n            left: ","px;\n            top: ","px;      \n          }\n        70% {\n            right: ","px;\n            left: ","px;\n            top: ","px;    \n            }\n        80% {\n            right: ","px;\n            left: ","px; \n            top: ","px;    \n            }\n        90% {\n            right: ","px;\n            left: ","px; \n            top: ","px;    \n            }\n    "]);return Oe=function(){return e},e}var Me=O.a.div(je(),(function(){return Object(O.b)(Oe(),Math.floor(Math.random()*window.innerWidth+1),Math.floor(Math.random()*(window.innerHeight-window.innerHeight/3*2)+window.innerHeight/3*2),Math.floor(Math.random()*window.innerWidth+1),Math.floor(Math.random()*window.innerWidth+1),Math.floor(Math.random()*(window.innerHeight-window.innerHeight/3*2)+window.innerHeight/3*2),Math.floor(Math.random()*window.innerWidth+1),Math.floor(Math.random()*window.innerWidth+1),Math.floor(Math.random()*(window.innerHeight-window.innerHeight/3*2)+window.innerHeight/3*2),Math.floor(Math.random()*window.innerWidth+1),Math.floor(Math.random()*window.innerWidth+1),Math.floor(Math.random()*(window.innerHeight-window.innerHeight/3*2)+window.innerHeight/3*2),Math.floor(Math.random()*window.innerWidth+1),Math.floor(Math.random()*window.innerWidth+1),Math.floor(Math.random()*(window.innerHeight-window.innerHeight/3*2)+window.innerHeight/3*2),Math.floor(Math.random()*window.innerWidth+1),Math.floor(Math.random()*window.innerWidth+1),Math.floor(Math.random()*(window.innerHeight-window.innerHeight/3*2)+window.innerHeight/3*2),Math.floor(Math.random()*window.innerWidth+1),Math.floor(Math.random()*window.innerWidth+1),Math.floor(Math.random()*(window.innerHeight-window.innerHeight/3*2)+window.innerHeight/3*2),Math.floor(Math.random()*window.innerWidth+1),Math.floor(Math.random()*window.innerWidth+1),Math.floor(Math.random()*(window.innerHeight-window.innerHeight/3*2)+window.innerHeight/3*2),Math.floor(Math.random()*window.innerWidth+1),Math.floor(Math.random()*window.innerWidth+1),Math.floor(Math.random()*(window.innerHeight-window.innerHeight/3*2)+window.innerHeight/3*2),Math.floor(Math.random()*window.innerWidth+1),Math.floor(Math.random()*window.innerWidth+1),Math.floor(Math.random()*(window.innerHeight-window.innerHeight/3*2)+window.innerHeight/3*2))})),Ie={background:{backgroundColor:"#ECCDC2",height:"100%"},landingSpacing:{width:"100vw",height:"calc(100vh)"},wave:{backgroundImage:"url(".concat(ke.a,")"),backgroundSize:"cover",zIndex:"3",height:"90px"}};var Te=function(){return r.a.createElement("div",{style:Ie.background},r.a.createElement(Ne.Parallax,{strength:window.innerWidth},r.a.createElement(j.Section,{style:Ie.landingSpacing},r.a.createElement(j.Container,null,r.a.createElement(Me,null),r.a.createElement(Me,null),r.a.createElement(Me,null),r.a.createElement(Me,null),r.a.createElement(Me,null),r.a.createElement(Me,null),r.a.createElement(Me,null),r.a.createElement(Me,null),r.a.createElement(Me,null),r.a.createElement(Me,null),r.a.createElement(Me,null),r.a.createElement(Me,null),r.a.createElement(Me,null),r.a.createElement(Me,null),r.a.createElement(Me,null),r.a.createElement(Me,null),r.a.createElement(Me,null),r.a.createElement(Me,null),r.a.createElement(Me,null),r.a.createElement(Me,null),r.a.createElement(Me,null),r.a.createElement(Me,null),r.a.createElement(Me,null),r.a.createElement(Me,null),r.a.createElement(Me,null),r.a.createElement(Me,null),r.a.createElement(Me,null),r.a.createElement(Me,null),r.a.createElement(Me,null)))))},Be=p(function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={authUser:null},n}return Object(s.a)(a,[{key:"setupStatus",value:function(){var e=this.state.authUser.uid,t=this.props.firebase.getDB().ref("users/".concat(e,"/"));t.update({status:"Online"}),t.onDisconnect().update({status:"Away"})}},{key:"componentDidMount",value:function(){var e=this;this.listener=this.props.firebase.auth.onAuthStateChanged((function(t){t?(e.setState({authUser:t}),e.setupStatus()):e.setState({authUser:null})}))}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){return r.a.createElement("div",{className:"App-Container"},r.a.createElement("div",{className:"App"},r.a.createElement(S.ParallaxProvider,null,r.a.createElement(d.a,null,r.a.createElement(Se,{authUser:this.state.authUser}),r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/profile"},this.state.authUser?r.a.createElement(ue,{user:this.state.authUser}):r.a.createElement(G,null)),r.a.createElement(m.b,{path:"/messages"},this.state.authUser?r.a.createElement(ge,{user:this.state.authUser}):r.a.createElement(G,null)),r.a.createElement(m.b,{path:"/",component:G}))))),r.a.createElement("div",{className:"App-Background"},r.a.createElement(Te,null)))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(f.Provider,{value:new x},r.a.createElement(Be,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},42:function(e,t,a){e.exports=a.p+"static/media/logo.430685b1.png"},56:function(e,t,a){e.exports=a.p+"static/media/boba-squiggle.51f8d1b4.png"},61:function(e,t,a){e.exports=a.p+"static/media/boba-squiggle.51f8d1b4.png"},64:function(e,t,a){e.exports=a(104)},94:function(e,t,a){}},[[64,1,2]]]);
//# sourceMappingURL=main.2d10f0e9.chunk.js.map